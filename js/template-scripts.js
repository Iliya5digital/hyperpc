!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(t.jQuery)}(this,function(g){"use strict";function e(r,e){return function(n,t){var i,s=[];return e(t)&&(i=v.splitTokens(v.split(n,r)),f.each(t,function(t,e){t=t.value;if(v.stringEncloses(n,t))return!1;t=v.splitTokens(v.split(t,r));0===f.minus(i,t).length&&s.push(e)})),1===s.length?s[0]:-1}}function l(t,e){var n=/<strong>/;return n.test(e)&&!n.test(t)?e:t}function I(t){this.urlSuffix=t.toLowerCase(),this.noSuggestionsHint="Неизвестное значение",this.matchers=[k(),Z()]}function c(t,e){var n=this;n.element=t,n.el=g(t),n.suggestions=[],n.badQueries=[],n.selectedIndex=-1,n.currentValue=n.element.value,n.intervalId=0,n.cachedResponse={},n.enrichmentCache={},n.currentRequest=null,n.inputPhase=g.Deferred(),n.fetchPhase=g.Deferred(),n.enrichPhase=g.Deferred(),n.onChangeTimeout=null,n.triggering={},n.$wrapper=null,n.options=g.extend({},S,e),n.classes=p,n.disabled=!1,n.selection=null,n.$viewport=g(window),n.$body=g(document.body),n.type=null,n.status={},n.setupElement(),n.initializer=g.Deferred(),n.el.is(":visible")?n.initializer.resolve():n.deferInitialization(),n.initializer.done(g.proxy(n.initialize,n))}function t(){C.each(z,function(t){t.abort()}),z={}}function n(t){this.plan=t.status.plan;t=t.getContainer();this.element=nt(p.promo,t)}g=g&&g.hasOwnProperty("default")?g.default:g;function i(t){var e;return 0!==t.length&&(1===t.length||(e=t[0].value,0===t.filter(function(t){return 0!==t.value.indexOf(e)}).length))}var u,s,q,d={isArray:function(t){return Array.isArray(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isEmptyObject:function(t){return 0===Object.keys(t).length&&t.constructor===Object},isPlainObject:function(t){return!(void 0===t||"object"!=typeof t||null===t||t.nodeType||t===t.window||t.constructor&&!Object.prototype.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))}},f={compact:function(t){return t.filter(function(t){return!!t})},each:function(n,i){Array.isArray(n)?n.some(function(t,e){return!1===i(t,e)}):Object.keys(n).some(function(t){var e=n[t];return!1===i(e,t)})},intersect:function(t,e){return Array.isArray(t)&&Array.isArray(e)?t.filter(function(t){return-1!==e.indexOf(t)}):[]},minus:function(t,e){return e&&0!==e.length?t.filter(function(t){return-1===e.indexOf(t)}):t},makeArray:function(t){return d.isArray(t)?Array.prototype.slice.call(t):[t]},minusWithPartialMatching:function(t,n){return n&&0!==n.length?t.filter(function(e){return!n.some(function(t){return 0===t.indexOf(e)})}):t},slice:function(t,e){return Array.prototype.slice.call(t,e)}},r={delay:function(t,e){return setTimeout(t,e||0)}},h={areSame:function n(t,i){var s=!0;return typeof t==typeof i&&("object"==typeof t&&null!=t&&null!=i?(f.each(t,function(t,e){return s=n(t,i[e])}),s):t===i)},assign:function(t,e){if("function"==typeof Object.assign)return Object.assign.apply(null,arguments);if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var s=arguments[i];if(null!=s)for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},clone:function(t){return JSON.parse(JSON.stringify(t))},compact:function(t){var n=h.clone(t);return f.each(n,function(t,e){null!=t&&""!==t||delete n[e]}),n},fieldsAreNotEmpty:function(n,t){var i;return!!d.isPlainObject(n)&&(i=!0,f.each(t,function(t,e){return i=!!n[t]}),i)},getDeepValue:function t(e,n){var n=n.split("."),i=n.shift();return e&&(n.length?t(e[i],n.join(".")):e[i])},indexObjectsById:function(t,s,r){var a={};return f.each(t,function(t,e){var n=t[s],i={};r&&(i[r]=e),a[n]=h.assign(i,t)}),a}},a=13,O=27,D=9,A=32,M=38,o=40,p={hint:"suggestions-hint",mobile:"suggestions-mobile",nowrap:"suggestions-nowrap",promo:"suggestions-promo",selected:"suggestions-selected",suggestion:"suggestions-suggestion",subtext:"suggestions-subtext",subtext_inline:"suggestions-subtext suggestions-subtext_inline",subtext_delimiter:"suggestions-subtext-delimiter",subtext_label:"suggestions-subtext suggestions-subtext_label",removeConstraint:"suggestions-remove",value:"suggestions-value"},m=".suggestions",y="\\s\"'~\\*\\.,:\\|\\[\\]\\(\\)\\{\\}<>№",$=new RegExp("["+y+"]+","g"),N=new RegExp("[\\-\\+\\\\\\?!@#$%^&]+","g"),v={escapeHtml:function(n){return n&&f.each({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},function(t,e){n=n.replace(new RegExp(e,"g"),t)}),n},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},formatToken:function(t){return t&&t.toLowerCase().replace(/[ёЁ]/g,"е")},getWordExtractorRegExp:function(){return new RegExp("([^"+y+"]*)(["+y+"]*)","g")},normalize:function(t,e){return v.split(t,e).join(" ")},padEnd:function(t,e,n){return String.prototype.padEnd?t.padEnd(e,n):(e>>=0,n=String(void 0!==n?n:" "),t.length>e?String(t):((e-=t.length)>n.length&&(n+=n.repeat(e/n.length)),String(t)+n.slice(0,e)))},split:function(t,e){var n,t=t.toLowerCase().replace("ё","е").replace(/(\d+)([а-я]{2,})/g,"$1 $2").replace(/([а-я]+)(\d+)/g,"$1 $2"),t=f.compact(t.split($));return t.length?(n=t.pop(),(t=f.minus(t,e)).push(n),t):[]},splitTokens:function(t){var n=[];return f.each(t,function(t,e){t=t.split(N);n=n.concat(f.compact(t))}),n},stringEncloses:function(t,e){return t.length>e.length&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},tokenize:function(t,e){t=f.compact(v.formatToken(t).split($)),e=f.minus(t,e),t=f.minus(t,e);return v.withSubTokens(e.concat(t))},withSubTokens:function(t){var i=[];return f.each(t,function(t,e){var n=t.split(N);i.push(t),1<n.length&&(i=i.concat(f.compact(n)))}),i}},H=function(){return g.Deferred()},U=function(t){return g.ajax(t)},_=function(){return g.extend.apply(null,arguments)},b=function(t){return t instanceof g},W=function(t){return g.param(t)},Q=function(t,e){return g.proxy(t,e)},K=function(t){return g(t)},x=function(){return g.support.cors},w={getDefaultType:function(){return x()?"POST":"GET"},getDefaultContentType:function(){return x()?"application/json":"application/x-www-form-urlencoded"},fixURLProtocol:function(t){return x()?t:t.replace(/^https?:/,location.protocol)},addUrlParams:function(t,e){return t+(/\?/.test(t)?"&":"?")+W(e)},serialize:function(t){return x()?JSON.stringify(t,function(t,e){return null===e?void 0:e}):(t=h.compact(t),W(t,!0))}},G=(q=0,function(t){return(t||"")+ ++q}),C={escapeRegExChars:v.escapeRegExChars,escapeHtml:v.escapeHtml,formatToken:v.formatToken,normalize:v.normalize,reWordExtractor:v.getWordExtractorRegExp,stringEncloses:v.stringEncloses,addUrlParams:w.addUrlParams,getDefaultContentType:w.getDefaultContentType,getDefaultType:w.getDefaultType,fixURLProtocol:w.fixURLProtocol,serialize:w.serialize,arrayMinus:f.minus,arrayMinusWithPartialMatching:f.minusWithPartialMatching,arraysIntersection:f.intersect,compact:f.compact,each:f.each,makeArray:f.makeArray,slice:f.slice,delay:r.delay,areSame:h.areSame,compactObject:h.compact,getDeepValue:h.getDeepValue,fieldsNotEmpty:h.fieldsAreNotEmpty,indexBy:h.indexObjectsById,isArray:d.isArray,isEmptyObject:d.isEmptyObject,isFunction:d.isFunction,isPlainObject:d.isPlainObject,uniqueId:G},S={$helpers:null,autoSelectFirst:!1,containerClass:"suggestions-suggestions",count:5,deferRequestBy:100,enrichmentEnabled:!0,formatResult:null,formatSelected:null,headers:null,hint:"Выберите вариант или продолжите ввод",initializeInterval:100,language:null,minChars:1,mobileWidth:600,noCache:!1,noSuggestionsHint:null,onInvalidateSelection:null,onSearchComplete:g.noop,onSearchError:g.noop,onSearchStart:g.noop,onSelect:null,onSelectNothing:null,onSuggestionsFetch:null,paramName:"query",params:{},preventBadQueries:!1,requestMode:"suggest",scrollOnFocus:!1,serviceUrl:"https://suggestions.dadata.ru/suggestions/api/4_1/rs",tabDisabled:!1,timeout:3e3,triggerSelectOnBlur:!0,triggerSelectOnEnter:!0,triggerSelectOnSpace:!1,type:null,url:null},k=function(r){return function(n,t){var i=v.normalize(n,r),s=[];return f.each(t,function(t,e){t=t.value.toLowerCase();return!v.stringEncloses(n,t)&&!(0<t.indexOf(i))&&void(i===v.normalize(t,r)&&s.push(e))}),1===s.length?s[0]:-1}},Z=function(t){return e(t,i)},r=function(t){return e(t,i)},E=function(e){return function(t,n){var t=v.splitTokens(v.split(t)),i=[];return 1===n.length&&(e&&f.each(e,function(t,e){e=h.getDeepValue(n[0],e),e=e&&v.splitTokens(v.split(e,t));e&&e.length&&(i=i.concat(e))}),0===f.minusWithPartialMatching(t,i).length)?0:-1}},T=["ао","аобл","дом","респ","а/я","аал","автодорога","аллея","арбан","аул","б-р","берег","бугор","вал","вл","волость","въезд","высел","г","городок","гск","д","двлд","днп","дор","дп","ж/д_будка","ж/д_казарм","ж/д_оп","ж/д_платф","ж/д_пост","ж/д_рзд","ж/д_ст","жилзона","жилрайон","жт","заезд","заимка","зона","к","казарма","канал","кв","кв-л","км","кольцо","комн","кордон","коса","кп","край","линия","лпх","м","массив","местность","мкр","мост","н/п","наб","нп","обл","округ","остров","оф","п","п/о","п/р","п/ст","парк","пгт","пер","переезд","пл","пл-ка","платф","погост","полустанок","починок","пр-кт","проезд","промзона","просек","просека","проселок","проток","протока","проулок","р-н","рзд","россия","рп","ряды","с","с/а","с/мо","с/о","с/п","с/с","сад","сквер","сл","снт","спуск","ст","ст-ца","стр","тер","тракт","туп","у","ул","уч-к","ф/х","ферма","х","ш","бульвар","владение","выселки","гаражно-строительный","город","деревня","домовладение","дорога","квартал","километр","комната","корпус","литер","леспромхоз","местечко","микрорайон","набережная","область","переулок","платформа","площадка","площадь","поселение","поселок","проспект","разъезд","район","республика","село","сельсовет","слобода","сооружение","станица","станция","строение","территория","тупик","улица","улус","участок","хутор","шоссе"],L=[{id:"kladr_id",fields:["kladr_id"],forBounds:!1,forLocations:!0},{id:"postal_code",fields:["postal_code"],forBounds:!1,forLocations:!0},{id:"country_iso_code",fields:["country_iso_code"],forBounds:!1,forLocations:!0},{id:"country",fields:["country"],forBounds:!0,forLocations:!0,kladrFormat:{digits:0,zeros:13},fiasType:"country_iso_code"},{id:"region_iso_code",fields:["region_iso_code"],forBounds:!1,forLocations:!0},{id:"region_fias_id",fields:["region_fias_id"],forBounds:!1,forLocations:!0},{id:"region_type_full",fields:["region_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:2,zeros:11},fiasType:"region_fias_id"},{id:"region",fields:["region","region_type","region_type_full","region_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:2,zeros:11},fiasType:"region_fias_id"},{id:"area_fias_id",fields:["area_fias_id"],forBounds:!1,forLocations:!0},{id:"area_type_full",fields:["area_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:5,zeros:8},fiasType:"area_fias_id"},{id:"area",fields:["area","area_type","area_type_full","area_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:5,zeros:8},fiasType:"area_fias_id"},{id:"city_fias_id",fields:["city_fias_id"],forBounds:!1,forLocations:!0},{id:"city_type_full",fields:["city_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:8,zeros:5},fiasType:"city_fias_id"},{id:"city",fields:["city","city_type","city_type_full","city_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:8,zeros:5},fiasType:"city_fias_id"},{id:"city_district_fias_id",fields:["city_district_fias_id"],forBounds:!1,forLocations:!0},{id:"city_district_type_full",fields:["city_district_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:11,zeros:2},fiasType:"city_district_fias_id"},{id:"city_district",fields:["city_district","city_district_type","city_district_type_full","city_district_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:11,zeros:2},fiasType:"city_district_fias_id"},{id:"settlement_fias_id",fields:["settlement_fias_id"],forBounds:!1,forLocations:!0},{id:"settlement_type_full",fields:["settlement_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:11,zeros:2},fiasType:"settlement_fias_id"},{id:"settlement",fields:["settlement","settlement_type","settlement_type_full","settlement_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:11,zeros:2},fiasType:"settlement_fias_id"},{id:"street_fias_id",fields:["street_fias_id"],forBounds:!1,forLocations:!0},{id:"street_type_full",fields:["street_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:15,zeros:2},fiasType:"street_fias_id"},{id:"street",fields:["street","street_type","street_type_full","street_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:15,zeros:2},fiasType:"street_fias_id"},{id:"house",fields:["house","house_type","house_type_full","block","block_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:19},fiasType:"house_fias_id"},{id:"flat",fields:["flat","flat_type","flat_type_full"],forBounds:!0,forLocations:!1,kladrFormat:{digits:19},fiasType:"flat_fias_id"}],F={urlSuffix:"address",noSuggestionsHint:"Неизвестный адрес",matchers:[k(T),r(T)],dataComponents:L,dataComponentsById:h.indexObjectsById(L,"id","index"),unformattableTokens:T,enrichmentEnabled:!0,enrichmentMethod:"suggest",enrichmentParams:{count:1,locations:null,locations_boost:null,from_bound:null,to_bound:null},getEnrichmentQuery:function(t){return t.unrestricted_value},geoEnabled:!0,isDataComplete:function(t){var e=[this.bounds.to||"flat"],t=t.data;return!d.isPlainObject(t)||h.fieldsAreNotEmpty(t,e)},composeValue:function(t,e){var n=t.country,i=t.region_with_type||f.compact([t.region,t.region_type]).join(" ")||t.region_type_full,s=t.area_with_type||f.compact([t.area_type,t.area]).join(" ")||t.area_type_full,r=t.city_with_type||f.compact([t.city_type,t.city]).join(" ")||t.city_type_full,a=t.settlement_with_type||f.compact([t.settlement_type,t.settlement]).join(" ")||t.settlement_type_full,o=t.city_district_with_type||f.compact([t.city_district_type,t.city_district]).join(" ")||t.city_district_type_full,l=t.street_with_type||f.compact([t.street_type,t.street]).join(" ")||t.street_type_full,u=f.compact([t.house_type,t.house,t.block_type,t.block]).join(" "),c=f.compact([t.flat_type,t.flat]).join(" "),d=t.postal_box&&"а/я "+t.postal_box;return e&&e.saveCityDistrict||(e&&e.excludeCityDistrict||o&&!t.city_district_fias_id)&&(o=""),f.compact([n,i=i===r?"":i,s,r,o,a,l,u,c,d]).join(", ")},formatResult:(s=!(u=[]),L.forEach(function(t){s&&u.push(t.id),"city_district"===t.id&&(s=!0)}),function(t,e,n,i){var s=this,r=n.data&&n.data.city_district_with_type,a=i&&i.unformattableTokens,o=n.data&&n.data.history_values;return o&&0<o.length&&(a=v.tokenize(e,a),a=this.type.findUnusedTokens(a,t),a=this.type.getFormattedHistoryValues(a,o))&&(t+=a),t=s.highlightMatches(t,e,n,i),t=s.wrapFormattedValue(t,n),r&&(!s.bounds.own.length||0<=s.bounds.own.indexOf("street"))&&!d.isEmptyObject(s.copyDataComponents(n.data,u))&&(t+='<div class="'+s.classes.subtext+'">'+s.highlightMatches(r,e,n)+"</div>"),t}),findUnusedTokens:function(t,e){return t.filter(function(t){return-1===e.indexOf(t)})},getFormattedHistoryValues:function(t,e){var n=[],i="";return e.forEach(function(e){f.each(t,function(t){if(0<=e.toLowerCase().indexOf(t))return n.push(e),!1})}),i=0<n.length?" (бывш. "+n.join(", ")+")":i},getSuggestionValue:function(t,e){var n=null;return e.hasSameValues?n=t.options.restrict_value?this.getValueWithinConstraints(t,e.suggestion):t.bounds.own.length?this.getValueWithinBounds(t,e.suggestion):e.suggestion.unrestricted_value:e.hasBeenEnriched&&t.options.restrict_value&&(n=this.getValueWithinConstraints(t,e.suggestion,{excludeCityDistrict:!0})),n},getValueWithinConstraints:function(t,e,n){return this.composeValue(t.getUnrestrictedData(e.data),n)},getValueWithinBounds:function(t,e,n){e=t.copyDataComponents(e.data,t.bounds.own.concat(["city_district_fias_id"]));return this.composeValue(e,n)}},j=[{id:"kladr_id",fields:["kladr_id"],forBounds:!1,forLocations:!0},{id:"region_fias_id",fields:["region_fias_id"],forBounds:!1,forLocations:!0},{id:"region_type_full",fields:["region_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:2,zeros:11},fiasType:"region_fias_id"},{id:"region",fields:["region","region_type","region_type_full","region_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:2,zeros:11},fiasType:"region_fias_id"},{id:"area_fias_id",fields:["area_fias_id"],forBounds:!1,forLocations:!0},{id:"area_type_full",fields:["area_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:5,zeros:8},fiasType:"area_fias_id"},{id:"area",fields:["area","area_type","area_type_full","area_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:5,zeros:8},fiasType:"area_fias_id"},{id:"city_fias_id",fields:["city_fias_id"],forBounds:!1,forLocations:!0},{id:"city_type_full",fields:["city_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:8,zeros:5},fiasType:"city_fias_id"},{id:"city",fields:["city","city_type","city_type_full","city_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:8,zeros:5},fiasType:"city_fias_id"},{id:"city_district_fias_id",fields:["city_district_fias_id"],forBounds:!1,forLocations:!0},{id:"city_district_type_full",fields:["city_district_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:11,zeros:2},fiasType:"city_district_fias_id"},{id:"city_district",fields:["city_district","city_district_type","city_district_type_full","city_district_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:11,zeros:2},fiasType:"city_district_fias_id"},{id:"settlement_fias_id",fields:["settlement_fias_id"],forBounds:!1,forLocations:!0},{id:"settlement_type_full",fields:["settlement_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:11,zeros:2},fiasType:"settlement_fias_id"},{id:"settlement",fields:["settlement","settlement_type","settlement_type_full","settlement_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:11,zeros:2},fiasType:"settlement_fias_id"},{id:"planning_structure_fias_id",fields:["planning_structure_fias_id"],forBounds:!1,forLocations:!0},{id:"planning_structure_type_full",fields:["planning_structure_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:15,zeros:2},fiasType:"planning_structure_fias_id"},{id:"planning_structure",fields:["planning_structure","planning_structure_type","planning_structure_type_full","planning_structure_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:15,zeros:2},fiasType:"planning_structure_fias_id"},{id:"street_fias_id",fields:["street_fias_id"],forBounds:!1,forLocations:!0},{id:"street_type_full",fields:["street_type_full"],forBounds:!1,forLocations:!0,kladrFormat:{digits:15,zeros:2},fiasType:"street_fias_id"},{id:"street",fields:["street","street_type","street_type_full","street_with_type"],forBounds:!0,forLocations:!0,kladrFormat:{digits:15,zeros:2},fiasType:"street_fias_id"},{id:"house",fields:["house","house_type","block","building_type","building"],forBounds:!0,forLocations:!1,kladrFormat:{digits:19}}],r={urlSuffix:"fias",noSuggestionsHint:"Неизвестный адрес",matchers:[k(T),r(T)],dataComponents:j,dataComponentsById:h.indexObjectsById(j,"id","index"),unformattableTokens:T,isDataComplete:function(t){var e=[this.bounds.to||"house"],t=t.data;return!d.isPlainObject(t)||h.fieldsAreNotEmpty(t,e)},composeValue:function(t,e){var n=t.country,i=t.region_with_type||f.compact([t.region,t.region_type]).join(" ")||t.region_type_full,s=t.area_with_type||f.compact([t.area_type,t.area]).join(" ")||t.area_type_full,r=t.city_with_type||f.compact([t.city_type,t.city]).join(" ")||t.city_type_full,a=t.settlement_with_type||f.compact([t.settlement_type,t.settlement]).join(" ")||t.settlement_type_full,o=t.city_district_with_type||f.compact([t.city_district_type,t.city_district]).join(" ")||t.city_district_type_full,l=t.planning_structure_with_type||f.compact([t.planning_structure_type,t.planning_structure]).join(" ")||t.planning_structure_type_full,u=t.street_with_type||f.compact([t.street_type,t.street]).join(" ")||t.street_type_full,c=f.compact([t.house_type,t.house,t.block_type,t.block]).join(" "),d=f.compact([t.flat_type,t.flat]).join(" "),h=t.postal_box&&"а/я "+t.postal_box;return e&&e.saveCityDistrict||(e&&e.excludeCityDistrict||o&&!t.city_district_fias_id)&&(o=""),f.compact([n,i=i===r?"":i,s,r,o,a,l,u,c,d,h]).join(", ")},formatResult:function(t,e,n,i){return t=this.highlightMatches(t,e,n,i),this.wrapFormattedValue(t,n)},getSuggestionValue:F.getSuggestionValue,getValueWithinConstraints:F.getValueWithinConstraints,getValueWithinBounds:F.getValueWithinBounds},j={urlSuffix:"fio",noSuggestionsHint:!1,matchers:[k(),Z()],fieldNames:{surname:"фамилия",name:"имя",patronymic:"отчество"},isDataComplete:function(t){var e,n=this.options.params,i=t.data;return(n=d.isFunction(n)?n.call(this.element,t.value):n)&&n.parts?e=n.parts.map(function(t){return t.toLowerCase()}):(e=["surname","name"],n="surname",(n=(t=t).data&&t.data[n])&&new RegExp("^"+v.escapeRegExChars(n)+"(["+y+"]|$)","i").test(t.value)&&e.push("patronymic")),h.fieldsAreNotEmpty(i,e)},composeValue:function(t){return f.compact([t.surname,t.name,t.patronymic]).join(" ")}},J={LEGAL:[2,2,5,1],INDIVIDUAL:[2,2,6,2]},B={NAME:j,ADDRESS:F,FIAS:r,PARTY:{urlSuffix:"party",noSuggestionsHint:"Неизвестная организация",matchers:[E({value:null,"data.address.value":T,"data.inn":null,"data.ogrn":null})],dataComponents:L,enrichmentEnabled:!0,enrichmentMethod:"findById",enrichmentParams:{count:1,locations_boost:null},getEnrichmentQuery:function(t){return t.data.hid},geoEnabled:!0,formatResult:function(t,e,n,i){var s=this,r=l(s.type.formatResultInn.call(s,n,e),s.highlightMatches(h.getDeepValue(n.data,"ogrn"),e,n)),a=s.highlightMatches(h.getDeepValue(n.data,"management.name"),e,n),o=h.getDeepValue(n.data,"address.value")||"";return s.isMobile&&((i=i||{}).maxLength=50),t=function(t,e,n,i,s){return l(this.highlightMatches(t,n,i,s),this.highlightMatches(e,n,i,s))}.call(s,t,h.getDeepValue(n.data,"name.latin"),e,n,i),t=s.wrapFormattedValue(t,n),o&&(o=o.replace(/^(\d{6}|Россия),\s+/i,""),o=s.isMobile?o.replace(new RegExp("^([^"+y+"]+["+y+"]+[^"+y+"]+).*"),"$1"):s.highlightMatches(o,e,n,{unformattableTokens:T})),(r||o||a)&&(t+='<div class="'+s.classes.subtext+'"><span class="'+s.classes.subtext_inline+'">'+(r||"")+"</span>"+(l(o,a)||"")+"</div>"),t},formatResultInn:function(t,e){var i,n=t.data&&t.data.inn,s=J[t.data&&t.data.type],r=/\d/;if(n)return i=this.highlightMatches(n,e,t),s&&(i=i.split(""),i=s.map(function(t){for(var e,n="";t&&(e=i.shift());)n+=e,r.test(e)&&t--;return n}).join('<span class="'+this.classes.subtext_delimiter+'"></span>')+i.join("")),i}},EMAIL:{urlSuffix:"email",noSuggestionsHint:!1,matchers:[k()],isQueryRequestable:function(t){return this.options.suggest_local||0<=t.indexOf("@")}},BANK:{urlSuffix:"bank",noSuggestionsHint:"Неизвестный банк",matchers:[E({value:null,"data.bic":null,"data.swift":null})],dataComponents:L,enrichmentEnabled:!0,enrichmentMethod:"findById",enrichmentParams:{count:1},getEnrichmentQuery:function(t){return t.data.bic},geoEnabled:!0,formatResult:function(t,e,n,i){var s=this,r=s.highlightMatches(h.getDeepValue(n.data,"bic"),e,n),a=h.getDeepValue(n.data,"address.value")||"";return t=s.highlightMatches(t,e,n,i),t=s.wrapFormattedValue(t,n),a&&(a=a.replace(/^\d{6}( РОССИЯ)?, /i,""),a=s.isMobile?a.replace(new RegExp("^([^"+y+"]+["+y+"]+[^"+y+"]+).*"),"$1"):s.highlightMatches(a,e,n,{unformattableTokens:T})),(r||a)&&(t+='<div class="'+s.classes.subtext+'"><span class="'+s.classes.subtext_inline+'">'+r+"</span>"+a+"</div>"),t},formatSelected:function(t){return h.getDeepValue(t,"data.name.payment")||null}},get:function(t){return B.hasOwnProperty(t)?B[t]:new I(t)}},R=(_(S,{suggest_local:!0}),{chains:{},on:function(t,e){return this.get(t).push(e),this},get:function(t){var e=this.chains;return e[t]||(e[t]=[])}}),X={suggest:{defaultParams:{type:C.getDefaultType(),dataType:"json",contentType:C.getDefaultContentType()},addTypeInUrl:!0},"iplocate/address":{defaultParams:{type:"GET",dataType:"json"},addTypeInUrl:!1},status:{defaultParams:{type:"GET",dataType:"json"},addTypeInUrl:!0},findById:{defaultParams:{type:C.getDefaultType(),dataType:"json",contentType:C.getDefaultContentType()},addTypeInUrl:!0}},Y={suggest:{method:"suggest",userSelect:!0,updateValue:!0,enrichmentEnabled:!0},findById:{method:"findById",userSelect:!1,updateValue:!1,enrichmentEnabled:!1}},j={setupElement:function(){this.el.attr("autocomplete","new-password").attr("autocorrect","off").attr("autocapitalize","off").attr("spellcheck","false").addClass("suggestions-input").css("box-sizing","border-box")},bindElementEvents:function(){var t=this;t.el.on("keydown"+m,g.proxy(t.onElementKeyDown,t)),t.el.on(["keyup"+m,"cut"+m,"paste"+m,"input"+m].join(" "),g.proxy(t.onElementKeyUp,t)),t.el.on("blur"+m,g.proxy(t.onElementBlur,t)),t.el.on("focus"+m,g.proxy(t.onElementFocus,t))},unbindElementEvents:function(){this.el.off(m)},onElementBlur:function(){var t=this;t.cancelBlur?t.cancelBlur=!1:(t.options.triggerSelectOnBlur?t.isUnavailable()||t.selectCurrentValue({noSpace:!0}).always(function(){t.hide()}):t.hide(),t.fetchPhase.abort&&t.fetchPhase.abort())},onElementFocus:function(){this.cancelFocus||C.delay(g.proxy(this.completeOnFocus,this)),this.cancelFocus=!1},onElementKeyDown:function(t){var e=this;if(!e.isUnavailable())if(e.visible){switch(t.which){case O:e.el.val(e.currentValue),e.hide(),e.abortRequest();break;case D:if(!1===e.options.tabDisabled)return;break;case a:e.options.triggerSelectOnEnter&&e.selectCurrentValue();break;case A:return void(e.options.triggerSelectOnSpace&&e.isCursorAtEnd()&&(t.preventDefault(),e.selectCurrentValue({continueSelecting:!0,dontEnrich:!0}).fail(function(){e.currentValue+=" ",e.el.val(e.currentValue),e.proceedChangedValue()})));case M:e.moveUp();break;case o:e.moveDown();break;default:return}t.stopImmediatePropagation(),t.preventDefault()}else switch(t.which){case o:e.suggest();break;case a:e.options.triggerSelectOnEnter&&e.triggerOnSelectNothing()}},onElementKeyUp:function(t){var e=this;if(!e.isUnavailable()){switch(t.which){case M:case o:case a:return}clearTimeout(e.onChangeTimeout),e.inputPhase.reject(),e.currentValue!==e.el.val()&&e.proceedChangedValue()}},proceedChangedValue:function(){var t=this;t.abortRequest(),t.inputPhase=g.Deferred().done(g.proxy(t.onValueChange,t)),0<t.options.deferRequestBy?t.onChangeTimeout=C.delay(function(){t.inputPhase.resolve()},t.options.deferRequestBy):t.inputPhase.resolve()},onValueChange:function(){var t,e=this;e.selection&&(t=e.selection,e.selection=null,e.trigger("InvalidateSelection",t)),e.selectedIndex=-1,e.update(),e.notify("valueChange")},completeOnFocus:function(){var t=this;t.isUnavailable()||t.isElementFocused()&&(t.update(),t.isMobile)&&(t.setCursorAtEnd(),t.scrollToTop())},isElementFocused:function(){return document.activeElement===this.element},isElementDisabled:function(){return Boolean(this.element.getAttribute("disabled")||this.element.getAttribute("readonly"))},isCursorAtEnd:function(){var t,e,n=this.el.val().length;try{if("number"==typeof(t=this.element.selectionStart))return t===n}catch(t){}return!document.selection||((e=document.selection.createRange()).moveStart("character",-n),n===e.text.length)},setCursorAtEnd:function(){var e=this.element;try{e.selectionEnd=e.selectionStart=e.value.length,e.scrollLeft=e.scrollWidth}catch(t){e.value=e.value}}},z=(g.extend(c.prototype={initialize:function(){var t=this;t.uniqueId=C.uniqueId("i"),t.createWrapper(),t.notify("initialize"),t.bindWindowEvents(),t.setOptions(),t.inferIsMobile(),t.notify("ready")},deferInitialization:function(){function t(){n.initializer.resolve(),n.enable()}var e,n=this,i="mouseover focus keydown";n.initializer.always(function(){n.el.off(i,t),clearInterval(e)}),n.disabled=!0,n.el.on(i,t),e=setInterval(function(){n.el.is(":visible")&&t()},n.options.initializeInterval)},isInitialized:function(){return"resolved"===this.initializer.state()},dispose:function(){var t=this;t.initializer.reject(),t.notify("dispose"),t.el.removeData("suggestions").removeClass("suggestions-input"),t.unbindWindowEvents(),t.removeWrapper(),t.el.trigger("suggestions-dispose")},notify:function(t){var e=this,n=C.slice(arguments,1);return g.map(R.get(t),function(t){return t.apply(e,n)})},createWrapper:function(){var t=this;t.$wrapper=g('<div class="suggestions-wrapper"/>'),t.el.after(t.$wrapper),t.$wrapper.on("mousedown"+m,g.proxy(t.onMousedown,t))},removeWrapper:function(){this.$wrapper&&this.$wrapper.remove(),g(this.options.$helpers).off(m)},onMousedown:function(t){var n=this;t.preventDefault(),n.cancelBlur=!0,C.delay(function(){delete n.cancelBlur}),0==g(t.target).closest(".ui-menu-item").length&&C.delay(function(){g(document).one("mousedown",function(t){var e=n.el.add(n.$wrapper).add(n.options.$helpers);(e=(e=n.options.floating?e.add(n.$container):e).filter(function(){return this===t.target||g.contains(this,t.target)})).length||n.hide()})})},bindWindowEvents:function(){var t=g.proxy(this.inferIsMobile,this);this.$viewport.on("resize"+m+this.uniqueId,t)},unbindWindowEvents:function(){this.$viewport.off("resize"+m+this.uniqueId)},scrollToTop:function(){var t=this.options.scrollOnFocus;(t=!0===t?this.el:t)instanceof g&&0<t.length&&g("body,html").animate({scrollTop:t.offset().top},"fast")},setOptions:function(t){var n=this;g.extend(n.options,t),n.type=B.get(n.options.type),g.each({requestMode:Y},function(t,e){if(n[t]=e[n.options[t]],!n[t])throw n.disable(),"`"+t+"` option is incorrect! Must be one of: "+g.map(e,function(t,e){return'"'+e+'"'}).join(", ")}),g(n.options.$helpers).off(m).on("mousedown"+m,g.proxy(n.onMousedown,n)),n.isInitialized()&&n.notify("setOptions")},inferIsMobile:function(){this.isMobile=this.$viewport.width()<=this.options.mobileWidth},clearCache:function(){this.cachedResponse={},this.enrichmentCache={},this.badQueries=[]},clear:function(){var t=this,e=t.selection;t.isInitialized()&&(t.clearCache(),t.currentValue="",t.selection=null,t.hide(),t.suggestions=[],t.el.val(""),t.el.trigger("suggestions-clear"),t.notify("clear"),t.trigger("InvalidateSelection",e))},disable:function(){this.disabled=!0,this.abortRequest(),this.visible&&this.hide()},enable:function(){this.disabled=!1},isUnavailable:function(){return this.disabled},update:function(){var t=this,e=t.el.val();t.isInitialized()&&(t.currentValue=e,t.isQueryRequestable(e)?t.updateSuggestions(e):t.hide())},setSuggestion:function(t){var e,n=this;g.isPlainObject(t)&&g.isPlainObject(t.data)&&(t=g.extend(!0,{},t),n.isUnavailable()&&n.initializer&&"pending"===n.initializer.state()&&(n.initializer.resolve(),n.enable()),n.bounds.own.length&&(n.checkValueBounds(t),e=n.copyDataComponents(t.data,n.bounds.all),t.data.kladr_id&&(e.kladr_id=n.getBoundedKladrId(t.data.kladr_id,n.bounds.all)),t.data=e),n.selection=t,n.suggestions=[t],e=n.getSuggestionValue(t)||"",n.currentValue=e,n.el.val(e),n.abortRequest(),n.el.trigger("suggestions-set"))},fixData:function(){var e=this,t=e.extendedCurrentValue(),n=e.el.val(),i=g.Deferred();i.done(function(t){e.selectSuggestion(t,0,n,{hasBeenEnriched:!0}),e.el.trigger("suggestions-fixdata",t)}).fail(function(){e.selection=null,e.el.trigger("suggestions-fixdata")}),e.isQueryRequestable(t)?(e.currentValue=t,e.getSuggestions(t,{count:1,from_bound:null,to_bound:null}).done(function(t){t=t[0];t?i.resolve(t):i.reject()}).fail(function(){i.reject()})):i.reject()},extendedCurrentValue:function(){var t=this.getParentInstance(),t=t&&t.extendedCurrentValue(),e=g.trim(this.el.val());return C.compact([t,e]).join(" ")},getAjaxParams:function(t,e){var n=this,i=g.trim(n.options.token),s=g.trim(n.options.partner),r=n.options.serviceUrl,a=n.options.url,o=X[t],l=g.extend({timeout:n.options.timeout},o.defaultParams),u={};return a?r=a:(/\/$/.test(r)||(r+="/"),r+=t,o.addTypeInUrl&&(r+="/"+n.type.urlSuffix)),r=C.fixURLProtocol(r),g.support.cors?(i&&(u.Authorization="Token "+i),s&&(u["X-Partner"]=s),u["X-Version"]=c.version,l.headers||(l.headers={}),l.xhrFields||(l.xhrFields={}),g.extend(l.headers,n.options.headers,u),l.xhrFields.withCredentials=!1):(i&&(u.token=i),s&&(u.partner=s),u.version=c.version,r=C.addUrlParams(r,u)),l.url=r,g.extend(l,e)},isQueryRequestable:function(t){var e=t.length>=this.options.minChars;return e=e&&this.type.isQueryRequestable?this.type.isQueryRequestable.call(this,t):e},constructRequestParams:function(t,e){var n=this,i=n.options,s=g.isFunction(i.params)?i.params.call(n.element,t):g.extend({},i.params);return n.type.constructRequestParams&&g.extend(s,n.type.constructRequestParams.call(n)),g.each(n.notify("requestParams"),function(t,e){g.extend(s,e)}),s[i.paramName]=t,g.isNumeric(i.count)&&0<i.count&&(s.count=i.count),i.language&&(s.language=i.language),g.extend(s,e)},updateSuggestions:function(e){var n=this;n.fetchPhase=n.getSuggestions(e).done(function(t){n.assignSuggestions(t,e)})},getSuggestions:function(i,t,e){var s=this,r=s.options,a=e&&e.noCallbacks,n=e&&e.useEnrichmentCache,e=e&&e.method||s.requestMode.method,t=s.constructRequestParams(i,t),o=g.param(t||{}),l=g.Deferred(),u=s.cachedResponse[o];return u&&g.isArray(u.suggestions)?l.resolve(u.suggestions):!s.isBadQuery(i)&&(a||!1!==r.onSearchStart.call(s.element,t))?s.doGetSuggestions(t,e).done(function(t){s.processResponse(t)&&i==s.currentValue?(r.noCache||(n?s.enrichmentCache[i]=t.suggestions[0]:(s.enrichResponse(t,i),s.cachedResponse[o]=t,r.preventBadQueries&&0===t.suggestions.length&&s.badQueries.push(i))),l.resolve(t.suggestions)):l.reject(),a||r.onSearchComplete.call(s.element,i,t.suggestions)}).fail(function(t,e,n){l.reject(),a||"abort"===e||r.onSearchError.call(s.element,i,t,e,n)}):l.reject(),l},doGetSuggestions:function(t,e){var n=this,e=g.ajax(n.getAjaxParams(e,{data:C.serialize(t)}));return n.abortRequest(),n.currentRequest=e,n.notify("request"),e.always(function(){n.currentRequest=null,n.notify("request")}),e},isBadQuery:function(n){var i;return!!this.options.preventBadQueries&&(i=!1,g.each(this.badQueries,function(t,e){return!(i=0===n.indexOf(e))}),i)},abortRequest:function(){this.currentRequest&&this.currentRequest.abort()},processResponse:function(t){var e=this;return!(!t||!g.isArray(t.suggestions)||(e.verifySuggestionsFormat(t.suggestions),e.setUnrestrictedValues(t.suggestions),g.isFunction(e.options.onSuggestionsFetch)&&(e=e.options.onSuggestionsFetch.call(e.element,t.suggestions),g.isArray(e))&&(t.suggestions=e),0))},verifySuggestionsFormat:function(n){"string"==typeof n[0]&&g.each(n,function(t,e){n[t]={value:e,data:null}})},getSuggestionValue:function(t,e){var n,i=this,s=i.options.formatSelected||i.type.formatSelected,r=e&&e.hasSameValues,e=e&&e.hasBeenEnriched,a=null;return n="string"!=typeof(n=g.isFunction(s)?s.call(i,t):n)&&(n=t.value,i.type.getSuggestionValue)&&null!==(a=i.type.getSuggestionValue(i,{suggestion:t,hasSameValues:r,hasBeenEnriched:e}))?a:n},hasSameValues:function(n){var i=!1;return g.each(this.suggestions,function(t,e){if(e.value===n.value&&e!==n)return!(i=!0)}),i},assignSuggestions:function(t,e){this.suggestions=t,this.notify("assignSuggestions",e)},shouldRestrictValues:function(){return this.options.restrict_value&&this.constraints&&1==Object.keys(this.constraints).length},setUnrestrictedValues:function(t){var n=this.shouldRestrictValues(),i=this.getFirstConstraintLabel();g.each(t,function(t,e){e.unrestricted_value||(e.unrestricted_value=n?i+", "+e.value:e.value)})},areSuggestionsSame:function(t,e){return t&&e&&t.value===e.value&&C.areSame(t.data,e.data)},getNoSuggestionsHint:function(){return!1!==this.options.noSuggestionsHint&&(this.options.noSuggestionsHint||this.type.noSuggestionsHint)}},j),R.on("initialize",j.bindElementEvents).on("dispose",j.unbindElementEvents),{}),F=(t(),{checkStatus:function(){function i(t){C.isFunction(s.options.onSearchError)&&s.options.onSearchError.call(s.element,null,e,"error",t)}var s=this,t=s.options.token&&s.options.token.trim()||"",t=s.options.type+t,e=z[t];(e=e||(z[t]=U(s.getAjaxParams("status")))).done(function(t,e,n){t.search?(n=n.getResponseHeader("X-Plan"),t.plan=n,_(s.status,t)):i("Service Unavailable")}).fail(function(){i(e.statusText)})}});c.resetTokens=t,_(c.prototype,F),R.on("setOptions",F.checkStatus);function V(i,t){var e,n,s=this,r={};s.instance=t,s.fields={},s.specificity=-1,d.isPlainObject(i)&&t.type.dataComponents&&f.each(t.type.dataComponents,function(t,e){var n=t.id;t.forLocations&&i[n]&&(s.fields[n]=i[n],s.specificity=e)}),t=Object.keys(s.fields),(t=f.intersect(t,et)).length?(f.each(t,function(t,e){r[t]=s.fields[t]}),s.fields=r,s.specificity=s.getFiasSpecificity(t)):s.fields.kladr_id&&(s.fields={kladr_id:s.fields.kladr_id},s.significantKladr=(t=s.fields.kladr_id,e=(t=t.replace(/^(\d{2})(\d*?)(0+)$/g,"$1$2")).length,n=-1,e<=2?n=2:2<e&&e<=5?n=5:5<e&&e<=8?n=8:8<e&&e<=11?n=11:11<e&&e<=15?n=15:15<e&&(n=19),v.padEnd(t,n,"0")),s.specificity=s.getKladrSpecificity(s.significantKladr))}function tt(t,e){this.id=G("c"),this.deletable=!!t.deletable,this.instance=e;var n=f.makeArray(t&&(t.locations||t.restrictions));this.locations=n.map(function(t){return new V(t,e)}),this.locations=this.locations.filter(function(t){return t.isValid()}),this.label=t.label,null==this.label&&e.type.composeValue&&(this.label=this.locations.map(function(t){return t.getLabel()}).join(", "))}var P,r={checkLocation:function(){var e=this,t=e.options.geoLocation;e.type.geoEnabled&&t&&(e.geoLocation=g.Deferred(),g.isPlainObject(t)||g.isArray(t)?e.geoLocation.resolve(t):(P=P||g.ajax(e.getAjaxParams("iplocate/address"))).done(function(t){t=t&&t.location&&t.location.data;t&&t.kladr_id?e.geoLocation.resolve({kladr_id:t.kladr_id}):e.geoLocation.reject()}).fail(function(){e.geoLocation.reject()}))},getGeoLocation:function(){return this.geoLocation},constructParams:function(){var e={};return this.geoLocation&&g.isFunction(this.geoLocation.promise)&&"resolved"==this.geoLocation.state()&&this.geoLocation.done(function(t){e.locations_boost=g.makeArray(t)}),e}},E=("GET"!=C.getDefaultType()&&(g.extend(S,{geoLocation:!0}),g.extend(c,{resetLocation:function(){P=null,S.geoLocation=!0}}),g.extend(c.prototype,{getGeoLocation:r.getGeoLocation}),R.on("setOptions",r.checkLocation).on("requestParams",r.constructParams)),{enrichSuggestion:function(e,t){var n=this,i=g.Deferred();if(!n.options.enrichmentEnabled||!n.type.enrichmentEnabled||!n.requestMode.enrichmentEnabled||t&&t.dontEnrich)return i.resolve(e);if(e.data&&null!=e.data.qc)return i.resolve(e);n.disableDropdown();var t=n.type.getEnrichmentQuery(e),s=n.type.enrichmentParams,r={noCallbacks:!0,useEnrichmentCache:!0,method:n.type.enrichmentMethod};return n.currentValue=t,n.enrichPhase=n.getSuggestions(t,s,r).always(function(){n.enableDropdown()}).done(function(t){t=t&&t[0];i.resolve(t||e,!!t)}).fail(function(){i.resolve(e)}),i},enrichResponse:function(n,i){var s=this.enrichmentCache[i];s&&g.each(n.suggestions,function(t,e){if(e.value===i)return n.suggestions[t]=s,!1})}}),L=(g.extend(c.prototype,E),{createContainer:function(){var t=this,e="."+t.classes.suggestion,n=t.options,n=g("<div/>").addClass(n.containerClass).css({display:"none"});(t.$container=n).on("click"+m,e,g.proxy(t.onSuggestionClick,t))},showContainer:function(){this.$container.appendTo(this.options.floating?this.$body:this.$wrapper)},getContainer:function(){return this.$container.get(0)},removeContainer:function(){this.options.floating&&this.$container.remove()},setContainerOptions:function(){var t=this;t.$container.off("mousedown.suggestions"),t.options.floating&&t.$container.on("mousedown.suggestions",g.proxy(t.onMousedown,t))},onSuggestionClick:function(t){var e,n=this,i=g(t.target);if(!n.dropdownDisabled){for(n.cancelFocus=!0,n.el.focus();i.length&&!(e=i.attr("data-index"));)i=i.closest("."+n.classes.suggestion);e&&!isNaN(e)&&n.select(+e)}},getSuggestionsItems:function(){return this.$container.children("."+this.classes.suggestion)},toggleDropdownEnabling:function(t){this.dropdownDisabled=!t,this.$container.attr("disabled",!t)},disableDropdown:function(){this.toggleDropdownEnabling(!1)},enableDropdown:function(){this.toggleDropdownEnabling(!0)},hasSuggestionsToChoose:function(){var t=this;return 1<t.suggestions.length||1===t.suggestions.length&&(!t.selection||g.trim(t.suggestions[0].value)!==g.trim(t.selection.value))},suggest:function(){var n=this,t=n.options,i=[];if(n.requestMode.userSelect){if(n.hasSuggestionsToChoose())t.hint&&n.suggestions.length&&i.push('<div class="'+n.classes.hint+'">'+t.hint+"</div>"),n.selectedIndex=-1,n.suggestions.forEach(function(t,e){t==n.selection&&(n.selectedIndex=e),n.buildSuggestionHtml(t,e,i)});else{if(n.suggestions.length)return void n.hide();var e=n.getNoSuggestionsHint();if(!e)return void n.hide();i.push('<div class="'+n.classes.hint+'">'+e+"</div>")}i.push('<div class="'+p.promo+'"></div>'),i.push("</div>"),n.$container.html(i.join("")),t.autoSelectFirst&&-1===n.selectedIndex&&(n.selectedIndex=0),-1!==n.selectedIndex&&n.getSuggestionsItems().eq(n.selectedIndex).addClass(n.classes.selected),g.isFunction(t.beforeRender)&&t.beforeRender.call(n.element,n.$container),n.$container.show(),n.visible=!0}},buildSuggestionHtml:function(t,e,n){n.push('<div class="'+this.classes.suggestion+'" data-index="'+e+'">');e=this.options.formatResult||this.type.formatResult||this.formatResult,n.push(e.call(this,t.value,this.currentValue,t,{unformattableTokens:this.type.unformattableTokens})),e=this.makeSuggestionLabel(this.suggestions,t);e&&n.push('<span class="'+this.classes.subtext_label+'">'+C.escapeHtml(e)+"</span>"),n.push("</div>")},wrapFormattedValue:function(t,e){e=C.getDeepValue(e.data,"state.status");return'<span class="'+this.classes.value+'"'+(e?' data-suggestion-status="'+e+'"':"")+">"+t+"</span>"},formatResult:function(t,e,n,i){return t=this.highlightMatches(t,e,n,i),this.wrapFormattedValue(t,n)},highlightMatches:function(t,e,n,i){var s,r,a,o,l,u,c=[],d=i&&i.unformattableTokens,h=i&&i.maxLength,f=C.reWordExtractor();if(!t)return"";for(i=v.tokenize(e,d),s=g.map(i,function(t){return new RegExp("^((.*)([\\-\\+\\\\\\?!@#$%^&]+))?("+C.escapeRegExChars(t)+")([^\\-\\+\\\\\\?!@#$%^&]*[\\-\\+\\\\\\?!@#$%^&]*)","i")});(r=f.exec(t))&&r[0];)a=r[1],c.push({text:a,hasUpperCase:a.toLowerCase()!==a,formatted:C.formatToken(a),matchable:!0}),r[2]&&c.push({text:r[2]});for(o=0;o<c.length;o++)!(l=c[o]).matchable||l.matched||-1!==g.inArray(l.formatted,d)&&!l.hasUpperCase||g.each(s,function(t,e){var n,e=e.exec(l.formatted),i=o+1;if(e)return(e={before:e[1]||"",beforeText:e[2]||"",beforeDelimiter:e[3]||"",text:e[4]||"",after:e[5]||""}).before&&(c.splice(o,0,{text:l.text.substr(0,e.beforeText.length),formatted:e.beforeText,matchable:!0},{text:e.beforeDelimiter}),i+=2,n=e.before.length,l.text=l.text.substr(n),l.formatted=l.formatted.substr(n),o--),n=e.text.length+e.after.length,l.formatted.length>n&&(c.splice(i,0,{text:l.text.substr(n),formatted:l.formatted.substr(n),matchable:!0}),l.text=l.text.substr(0,n),l.formatted=l.formatted.substr(0,n)),e.after&&(n=e.text.length,c.splice(i,0,{text:l.text.substr(n),formatted:l.formatted.substr(n)}),l.text=l.text.substr(0,n),l.formatted=l.formatted.substr(0,n)),!(l.matched=!0)});if(h){for(o=0;o<c.length&&0<=h;o++)(h-=(l=c[o]).text.length)<0&&(l.text=l.text.substr(0,l.text.length+h)+"...");c.length=o}return e=g.map(c,function(t){var e=C.escapeHtml(t.text);return e=e&&t.matched?"<strong>"+e+"</strong>":e}).join(""),i=e,u=this.classes.nowrap,1===(e=i.split(", ")).length?i:g.map(e,function(t){return'<span class="'+u+'">'+t+"</span>"}).join(", ")},makeSuggestionLabel:function(t,n){var e,i,s,r,a=this.type.fieldNames,o={},l=C.reWordExtractor(),u=[];if(a&&(s=n,r=!1,g.each(t,function(t,e){if(r=e.value==s.value&&e!=s)return!1}),r)&&n.data&&(g.each(a,function(t){var e=n.data[t];e&&(o[t]=C.formatToken(e))}),!g.isEmptyObject(o))){for(;(e=l.exec(C.formatToken(n.value)))&&(i=e[1]);)g.each(o,function(t,e){if(e==i)return u.push(a[t]),delete o[t],!1});if(u.length)return u.join(", ")}},hide:function(){this.visible=!1,this.selectedIndex=-1,this.$container.hide().empty()},activate:function(t){var e,n=this,i=n.classes.selected;return!n.dropdownDisabled&&((e=n.getSuggestionsItems()).removeClass(i),n.selectedIndex=t,-1!==n.selectedIndex)&&e.length>n.selectedIndex?((t=e.eq(n.selectedIndex)).addClass(i),t):null},deactivate:function(t){var e=this;e.dropdownDisabled||(e.selectedIndex=-1,e.getSuggestionsItems().removeClass(e.classes.selected),t&&e.el.val(e.currentValue))},moveUp:function(){var t=this;if(!t.dropdownDisabled)return-1===t.selectedIndex?void(t.suggestions.length&&t.adjustScroll(t.suggestions.length-1)):0===t.selectedIndex?void t.deactivate(!0):void t.adjustScroll(t.selectedIndex-1)},moveDown:function(){var t=this;if(!t.dropdownDisabled)return t.selectedIndex===t.suggestions.length-1?void t.deactivate(!0):void t.adjustScroll(t.selectedIndex+1)},adjustScroll:function(t){var e,n=this,i=n.activate(t),s=n.$container.scrollTop();i&&i.length&&((e=i.position().top)<0?n.$container.scrollTop(s+e):(e=e+i.outerHeight(),(i=n.$container.innerHeight())<e&&n.$container.scrollTop(s-i+e)),n.el.val(n.suggestions[t].value))}}),et=(g.extend(S,{width:"auto",floating:!1}),g.extend(c.prototype,L),R.on("initialize",L.createContainer).on("dispose",L.removeContainer).on("setOptions",L.setContainerOptions).on("ready",L.showContainer).on("assignSuggestions",L.suggest),["country_iso_code","region_iso_code","region_fias_id","area_fias_id","city_fias_id","city_district_fias_id","settlement_fias_id","planning_structure_fias_id","street_fias_id"]),j=(_(V.prototype,{getLabel:function(){return this.instance.type.composeValue(this.fields,{saveCityDistrict:!0})},getFields:function(){return this.fields},isValid:function(){return!d.isEmptyObject(this.fields)},getKladrSpecificity:function(t){var n=-1,i=t.length;return f.each(this.instance.type.dataComponents,function(t,e){t.kladrFormat&&i===t.kladrFormat.digits&&(n=e)}),n},getFiasSpecificity:function(n){var i=-1;return f.each(this.instance.type.dataComponents,function(t,e){t.fiasType&&-1<n.indexOf(t.fiasType)&&i<e&&(i=e)}),i},containsData:function(n){var i=!0;return this.fields.kladr_id?!!n.kladr_id&&0===n.kladr_id.indexOf(this.significantKladr):(f.each(this.fields,function(t,e){return i=!!n[e]&&n[e].toLowerCase()===t.toLowerCase()}),i)}}),c.ConstraintLocation=V,_(tt.prototype,{isValid:function(){return 0<this.locations.length},getFields:function(){return this.locations.map(function(t){return t.getFields()})}}),{createConstraints:function(){this.constraints={}},setupConstraints:function(){var t,n=this,e=n.options.constraints;e?b(e)||"string"==typeof e||"number"==typeof e.nodeType?(t=K(e)).is(n.constraints)||(n.unbindFromParent(),t.is(n.el))||(n.constraints=t,n.bindToParent()):(f.each(n.constraints,function(t,e){n.removeConstraint(e)}),f.each(f.makeArray(e),function(t,e){n.addConstraint(t)})):n.unbindFromParent()},filteredLocation:function(t){var n=[],i={};if(f.each(this.type.dataComponents,function(){this.forLocations&&n.push(this.id)}),d.isPlainObject(t)&&f.each(t,function(t,e){t&&0<=n.indexOf(e)&&(i[e]=t)}),!d.isEmptyObject(i))return i.kladr_id?{kladr_id:i.kladr_id}:i},addConstraint:function(t){(t=new tt(t,this)).isValid()&&(this.constraints[t.id]=t)},removeConstraint:function(t){delete this.constraints[t]},constructConstraintsParams:function(){for(var t,e,n=[],i=this.constraints,s={};b(i)&&(t=i.suggestions())&&!(e=h.getDeepValue(t,"selection.data"));)i=t.constraints;return b(i)?(e=new V(e,t).getFields())&&(-1<this.bounds.own.indexOf("city")&&delete e.city_fias_id,s.locations=[e],s.restrict_value=!0):i&&(f.each(i,function(t,e){n=n.concat(t.getFields())}),n.length)&&(s.locations=n,s.restrict_value=this.options.restrict_value),s},getFirstConstraintLabel:function(){var t=d.isPlainObject(this.constraints)&&Object.keys(this.constraints)[0];return t?this.constraints[t].label:""},bindToParent:function(){var t=this;t.constraints.on(["suggestions-select."+t.uniqueId,"suggestions-invalidateselection."+t.uniqueId,"suggestions-clear."+t.uniqueId].join(" "),Q(t.onParentSelectionChanged,t)).on("suggestions-dispose."+t.uniqueId,Q(t.onParentDispose,t))},unbindFromParent:function(){var t=this.constraints;b(t)&&t.off("."+this.uniqueId)},onParentSelectionChanged:function(t,e,n){"suggestions-select"===t.type&&!n||this.clear()},onParentDispose:function(t){this.unbindFromParent()},getParentInstance:function(){return b(this.constraints)&&this.constraints.suggestions()},shareWithParent:function(t){var n,e,i,s,r=this.getParentInstance();r&&r.type===this.type&&(n=t,i=(e=r).selection,(s=i&&i.data&&e.bounds)&&f.each(e.bounds.all,function(t,e){return s=i.data[t]===n.data[t]}),!s)&&(r.shareWithParent(t),r.setSuggestion(t))},getUnrestrictedData:function(n){var i=[],s={},r=-1;return f.each(this.constraints,function(t,e){f.each(t.locations,function(t,e){t.containsData(n)&&t.specificity>r&&(r=t.specificity)})}),0<=r?(n.region_kladr_id&&n.region_kladr_id===n.city_kladr_id&&i.push.apply(i,this.type.dataComponentsById.city.fields),f.each(this.type.dataComponents.slice(0,r+1),function(t,e){i.push.apply(i,t.fields)}),f.each(n,function(t,e){-1===i.indexOf(e)&&(s[e]=t)})):s=n,s}}),F=(_(S,{constraints:null,restrict_value:!1}),_(c.prototype,j),"GET"!=w.getDefaultType()&&R.on("initialize",j.createConstraints).on("setOptions",j.setupConstraints).on("requestParams",j.constructConstraintsParams).on("dispose",j.unbindFromParent),{proceedQuery:function(t){t.length>=this.options.minChars?this.updateSuggestions(t):this.hide()},selectCurrentValue:function(e){var n=this,i=H();return n.inputPhase.resolve(),n.fetchPhase.done(function(){var t;n.selection&&!n.visible||(t=n.findSuggestionIndex(),n.select(t,e),-1===t)?i.reject():i.resolve(t)}).fail(function(){i.reject()}),i},selectFoundSuggestion:function(){this.requestMode.userSelect||this.select(0)},findSuggestionIndex:function(){var e,n=this,i=n.selectedIndex;return-1===i&&(e=n.el.val().trim())&&n.type.matchers.some(function(t){return-1!==(i=t(e,n.suggestions))}),i},select:function(n,i){var s,r=this,t=r.suggestions[n],e=i&&i.continueSelecting,a=r.currentValue;r.triggering.Select||(t?(s=r.hasSameValues(t),r.enrichSuggestion(t,i).done(function(t,e){e=_({hasBeenEnriched:e,hasSameValues:s},i);r.selectSuggestion(t,n,a,e)})):(e||r.selection||r.triggerOnSelectNothing(),r.onSelectComplete(e)))},selectSuggestion:function(t,e,n,i){var s=this,r=i.continueSelecting,a=!s.type.isDataComplete||s.type.isDataComplete.call(s,t),o=s.selection;s.triggering.Select||(s.type.alwaysContinueSelecting&&(r=!0),a&&(r=!1),i.hasBeenEnriched&&s.suggestions[e]&&(s.suggestions[e].data=t.data),s.requestMode.updateValue&&(s.checkValueBounds(t),s.currentValue=s.getSuggestionValue(t,i),!s.currentValue||i.noSpace||a||(s.currentValue+=" "),s.el.val(s.currentValue)),s.currentValue?(s.selection=t,s.areSuggestionsSame(t,o)||s.trigger("Select",t,s.currentValue!=n),s.requestMode.userSelect&&s.onSelectComplete(r)):(s.selection=null,s.triggerOnSelectNothing()),s.shareWithParent(t))},onSelectComplete:function(t){t?(this.selectedIndex=-1,this.updateSuggestions(this.currentValue)):this.hide()},triggerOnSelectNothing:function(){this.triggering.SelectNothing||this.trigger("SelectNothing",this.currentValue)},trigger:function(t){var e=this,n=C.slice(arguments,1),i=e.options["on"+t];e.triggering[t]=!0,C.isFunction(i)&&i.apply(e.element,n),e.el.trigger.call(e.el,"suggestions-"+t.toLowerCase(),n),e.triggering[t]=!1}}),r=(_(c.prototype,F),R.on("assignSuggestions",F.selectFoundSuggestion),{setupBounds:function(){this.bounds={from:null,to:null}},setBoundsOptions:function(){var n,t=this,e=[],i=g.trim(t.options.bounds).split("-"),s=i[0],r=i[i.length-1],a=[],o=[];t.type.dataComponents&&g.each(t.type.dataComponents,function(){this.forBounds&&e.push(this.id)}),-1===e.indexOf(s)&&(s=null),-1===e.indexOf(r)&&(r=null),(s||r)&&(n=!s,g.each(e,function(t,e){if(e==s&&(n=!0),o.push(e),n&&a.push(e),e==r)return!1})),t.bounds.from=s,t.bounds.to=r,t.bounds.all=o,t.bounds.own=a},constructBoundsParams:function(){var t={};return this.bounds.from&&(t.from_bound={value:this.bounds.from}),this.bounds.to&&(t.to_bound={value:this.bounds.to}),t},checkValueBounds:function(t){var e,n=this;n.bounds.own.length&&n.type.composeValue&&(1===(e=n.bounds.own.slice(0)).length&&"city_district"===e[0]&&e.push("city_district_fias_id"),e=n.copyDataComponents(t.data,e),t.value=n.type.composeValue(e))},copyDataComponents:function(n,t){var i={},s=this.type.dataComponentsById;return s&&g.each(t,function(t,e){g.each(s[e].fields,function(t,e){null!=n[e]&&(i[e]=n[e])})}),i},getBoundedKladrId:function(t,e){var n,i=e[e.length-1];return g.each(this.type.dataComponents,function(t,e){if(e.id===i)return n=e.kladrFormat,!1}),t.substr(0,n.digits)+new Array((n.zeros||0)+1).join("0")}});g.extend(S,{bounds:null}),g.extend(c.prototype,r),R.on("initialize",r.setupBounds).on("setOptions",r.setBoundsOptions).on("requestParams",r.constructBoundsParams);var nt=function(t,e){t="."+t;return(e||document).querySelector(t)};n.prototype.show=function(){"FREE"===this.plan&&this.element&&(this.setStyles(),this.setHtml())},n.prototype.setStyles=function(){this.element.style.display="block"},n.prototype.setHtml=function(){this.element.innerHTML='<a target="_blank" tabindex="-1" href="https://dadata.ru/suggestions/?utm_source=dadata&utm_medium=module&utm_campaign=suggestions-jquery"><svg version="1.1" viewBox="0 0 128 38" xmlns="http://www.w3.org/2000/svg"><path d="m128 19v16.077c0 1.614-1.302 2.923-2.909 2.923h-122.18c-1.607 0-2.909-1.309-2.909-2.923v-32.154c-0-1.614 1.302-2.923 2.909-2.923h122.18c1.607 0 2.909 1.309 2.909 2.923z" fill="#ef4741"/><path d="m59.52 7.912h-8.902v22.098h9.92c3.724 0 9.872-0.341 9.872-6.703v-8.682c-0.01-6.372-7.166-6.713-10.89-6.713zm5.595 14.81c0 3.186-2.308 3.508-4.936 3.508h-4.276v-14.538h3.287c2.628 0 5.954 0.322 5.954 3.508zm-46.545-14.81h-8.834v22.098h9.871c3.724 0 9.872-0.341 9.872-6.703v-8.682c0-6.372-7.137-6.713-10.88-6.713zm5.595 14.81c0 3.186-2.308 3.508-4.936 3.508h-4.247v-14.538h3.258c2.628 0 5.954 0.322 5.954 3.508zm71.757-13.953h-4.945v16.301c-0.018 0.785 0.113 1.565 0.388 2.3 0.203 0.569 0.535 1.082 0.97 1.5 0.446 0.385 0.962 0.677 1.522 0.858 0.58 0.205 1.182 0.343 1.794 0.409 0.575 0.052 1.248 0.081 2.017 0.088 0.917-1e-3 1.834-0.057 2.744-0.166v-2.796h-1.765c-0.393 0.055-0.795 0.032-1.18-0.071-0.385-0.102-0.745-0.28-1.06-0.524-0.413-0.691-0.59-1.498-0.504-2.299v-8.068h4.509v-3.06h-4.509zm20.364 5.535c-1.176-0.741-3.278-1.108-6.303-1.101h-5.741v0.243l0.708 2.826h5.033c0.837-0.051 1.672 0.117 2.424 0.487 0.259 0.248 0.458 0.553 0.579 0.891 0.121 0.339 0.162 0.701 0.119 1.058v1.12h-5.527c-1.939 0-3.271 0.38-3.995 1.14-0.725 0.76-1.099 2.127-1.125 4.102 0 2.154 0.359 3.06 1.086 3.742 0.728 0.682 2.134 1.188 4.344 1.188h6.847c1.706 0 3.345-0.808 3.345-2.747v-8.584c0-2.176-0.589-3.635-1.765-4.375zm-3.19 12.959h-3.249c-0.735 0.081-1.478-0.036-2.152-0.342-0.285-0.227-0.427-0.876-0.427-1.948s0.136-1.741 0.407-2.007c0.625-0.331 1.336-0.46 2.037-0.371h3.384zm-26.667-12.959c-1.176-0.741-3.277-1.108-6.303-1.101h-5.741v0.243l0.708 2.826h5.033c0.836-0.051 1.672 0.117 2.424 0.487 0.259 0.248 0.457 0.553 0.578 0.891 0.121 0.339 0.162 0.701 0.12 1.058v1.12h-5.556c-1.939 0-3.271 0.38-3.995 1.14s-1.086 2.127-1.086 4.102c0 2.154 0.359 3.06 1.086 3.742s2.133 1.188 4.344 1.188h6.846c1.717 0 3.346-0.808 3.346-2.747v-8.584c-7e-3 -2.176-0.595-3.635-1.765-4.375zm-3.181 12.959h-3.248c-0.735 0.081-1.478-0.037-2.153-0.342-0.284-0.227-0.426-0.876-0.426-1.948s0.135-1.741 0.407-2.007c0.624-0.331 1.336-0.46 2.036-0.371h3.384zm-37.74-12.959c-1.176-0.741-3.278-1.108-6.303-1.101h-5.712v0.243l0.708 2.826h5.033c0.837-0.051 1.672 0.117 2.424 0.487 0.259 0.248 0.457 0.553 0.578 0.891 0.121 0.339 0.162 0.701 0.12 1.058v1.12h-5.556c-1.939 0-3.271 0.38-3.995 1.14s-1.099 2.127-1.125 4.102c0 2.154 0.359 3.06 1.086 3.742s2.133 1.188 4.344 1.188h6.846c1.717 0 3.346-0.808 3.346-2.747v-8.584c0-2.176-0.589-3.635-1.765-4.375zm-3.181 12.959h-3.219c-0.735 0.081-1.478-0.037-2.153-0.342-0.284-0.227-0.427-0.876-0.427-1.948s0.136-1.741 0.408-2.007c0.624-0.331 1.336-0.46 2.036-0.371h3.384z" fill="#fff"/></svg></a>'},R.on("assignSuggestions",function(){new n(this).show()}),c.defaultOptions=S,c.version="21.12.0",g.Suggestions=c,g.fn.suggestions=function(n,i){return 0===arguments.length?this.first().data("suggestions"):this.each(function(){var t=g(this),e=t.data("suggestions");"string"==typeof n?e&&"function"==typeof e[n]&&e[n](i):(e&&e.dispose&&e.dispose(),e=new c(this,n),t.data("suggestions",e))})}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(c){c.extend(c.fn,{validate:function(t){var i;if(this.length)return(i=c.data(this[0],"validator"))||(this.attr("novalidate","novalidate"),i=new c.validator(t,this[0]),c.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(t){i.submitButton=t.currentTarget,c(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==c(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(n){function t(){var t,e;return i.submitButton&&(i.settings.submitHandler||i.formSubmitted)&&(t=c("<input type='hidden'/>").attr("name",i.submitButton.name).val(c(i.submitButton).val()).appendTo(i.currentForm)),!(i.settings.submitHandler&&!i.settings.debug)||(e=i.settings.submitHandler.call(i,i.currentForm,n),t&&t.remove(),void 0!==e&&e)}return i.settings.debug&&n.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,t()):i.form()?i.pendingRequest?!(i.formSubmitted=!0):t():(i.focusInvalid(),!1)})),i);t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,e,n;return c(this[0]).is("form")?t=this.validate().form():(n=[],t=!0,e=c(this[0].form).validate(),this.each(function(){(t=e.element(this)&&t)||(n=n.concat(e.errorList))}),e.errorList=n),t},rules:function(t,e){var n,i,s,r,a,o=this[0],l=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=o&&(!o.form&&l&&(o.form=this.closest("form")[0],o.name=this.attr("name")),null!=o.form)){if(t)switch(n=c.data(o.form,"validator").settings,i=n.rules,s=c.validator.staticRules(o),t){case"add":c.extend(s,c.validator.normalizeRule(e)),delete s.messages,i[o.name]=s,e.messages&&(n.messages[o.name]=c.extend(n.messages[o.name],e.messages));break;case"remove":return e?(a={},c.each(e.split(/\s/),function(t,e){a[e]=s[e],delete s[e]}),a):(delete i[o.name],s)}return(l=c.validator.normalizeRules(c.extend({},c.validator.classRules(o),c.validator.attributeRules(o),c.validator.dataRules(o),c.validator.staticRules(o)),o)).required&&(r=l.required,delete l.required,l=c.extend({required:r},l)),l.remote&&(r=l.remote,delete l.remote,l=c.extend(l,{remote:r})),l}}});function e(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var n;c.extend(c.expr.pseudos||c.expr[":"],{blank:function(t){return!e(""+c(t).val())},filled:function(t){t=c(t).val();return null!==t&&!!e(""+t)},unchecked:function(t){return!c(t).prop("checked")}}),c.validator=function(t,e){this.settings=c.extend(!0,{},c.validator.defaults,t),this.currentForm=e,this.init()},c.validator.format=function(n,t){return 1===arguments.length?function(){var t=c.makeArray(arguments);return t.unshift(n),c.validator.format.apply(this,t)}:(void 0===t||((t=2<arguments.length&&t.constructor!==Array?c.makeArray(arguments).slice(1):t).constructor!==Array&&(t=[t]),c.each(t,function(t,e){n=n.replace(new RegExp("\\{"+t+"\\}","g"),function(){return e})})),n)},c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){9===e.which&&""===this.elementValue(t)||-1!==c.inArray(e.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(t,e,n){("radio"===t.type?this.findByName(t.name):c(t)).addClass(e).removeClass(n)},unhighlight:function(t,e,n){("radio"===t.type?this.findByName(t.name):c(t)).removeClass(e).addClass(n)}},setDefaults:function(t){c.extend(c.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}."),step:c.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var e,n,i=void 0!==c(this).attr("contenteditable")&&"false"!==c(this).attr("contenteditable");!this.form&&i&&(this.form=c(this).closest("form")[0],this.name=c(this).attr("name")),s===this.form&&(i=c.data(this.form,"validator"),e="on"+t.type.replace(/^validate/,""),(n=i.settings)[e])&&!c(this).is(n.ignore)&&n[e].call(i,this,t)}this.labelContainer=c(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm),this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,s=this.currentForm,i=this.groups={};c.each(this.settings.groups,function(n,t){"string"==typeof t&&(t=t.split(/\s/)),c.each(t,function(t,e){i[e]=n})}),n=this.settings.rules,c.each(n,function(t,e){n[t]=c.validator.normalizeRule(e)}),c(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&c(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),c.extend(this.submitted,this.errorMap),this.invalid=c.extend({},this.errorMap),this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(t){var e,n,i=this.clean(t),s=this.validationTargetFor(i),r=this,a=!0;return void 0===s?delete this.invalid[i.name]:(this.prepareElement(s),this.currentElements=c(s),(n=this.groups[s.name])&&c.each(this.groups,function(t,e){e===n&&t!==s.name&&(i=r.validationTargetFor(r.clean(r.findByName(t))))&&i.name in r.invalid&&(r.currentElements.push(i),a=r.check(i)&&a)}),e=!1!==this.check(s),a=a&&e,this.invalid[s.name]=!e,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c(t).attr("aria-invalid",!e)),a},showErrors:function(e){var n;e&&(c.extend((n=this).errorMap,e),this.errorList=c.map(this.errorMap,function(t,e){return{message:t,element:n.findByName(e)[0]}}),this.successList=c.grep(this.successList,function(t){return!(t.name in e)})),this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,n=0;for(e in t)void 0!==t[e]&&null!==t[e]&&!1!==t[e]&&n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===c.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var n=this,i={};return c(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var t=this.name||c(this).attr("name"),e=void 0!==c(this).attr("contenteditable")&&"false"!==c(this).attr("contenteditable");return!t&&n.settings.debug&&window.console&&console.error("%o has no name assigned",this),e&&(this.form=c(this).closest("form")[0],this.name=t),!(this.form!==n.currentForm||t in i||!n.objectLength(c(this).rules())||(i[t]=!0,0))})},clean:function(t){return c(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return c(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=c([]),this.toHide=c([])},reset:function(){this.resetInternals(),this.currentElements=c([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(t){var e=c(t),n=t.type,i=void 0!==e.attr("contenteditable")&&"false"!==e.attr("contenteditable");return"radio"===n||"checkbox"===n?this.findByName(t.name).filter(":checked").val():"number"===n&&void 0!==t.validity?t.validity.badInput?"NaN":e.val():(t=i?e.text():e.val(),"file"===n?"C:\\fakepath\\"===t.substr(0,12)?t.substr(12):0<=(i=t.lastIndexOf("/"))||0<=(i=t.lastIndexOf("\\"))?t.substr(i+1):t:"string"==typeof t?t.replace(/\r/g,""):t)},check:function(e){e=this.validationTargetFor(this.clean(e));var t,n,i,s,r=c(e).rules(),a=c.map(r,function(t,e){return e}).length,o=!1,l=this.elementValue(e);for(n in"function"==typeof r.normalizer?s=r.normalizer:"function"==typeof this.settings.normalizer&&(s=this.settings.normalizer),s&&(l=s.call(e,l),delete r.normalizer),r){i={method:n,parameters:r[n]};try{if("dependency-mismatch"===(t=c.validator.methods[n].call(this,l,e,i.parameters))&&1===a)o=!0;else{if(o=!1,"pending"===t)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!t)return this.formatAndAdd(e,i),!1}}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+i.method+"' method.",t),t instanceof TypeError&&(t.message+=".  Exception occurred when checking element "+e.id+", check the '"+i.method+"' method."),t}}if(!o)return this.objectLength(r)&&this.successList.push(e),!0},customDataMessage:function(t,e){return c(t).data("msg"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())||c(t).data("msg")},customMessage:function(t,e){t=this.settings.messages[t];return t&&(t.constructor===String?t:t[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(t,e){var n=this.findDefined(this.customMessage(t.name,(e="string"==typeof e?{method:e}:e).method),this.customDataMessage(t,e.method),!this.settings.ignoreTitle&&t.title||void 0,c.validator.messages[e.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),i=/\$?\{(\d+)\}/g;return"function"==typeof n?n=n.call(this,e.parameters,t):i.test(n)&&(n=c.validator.format(n.replace(i,"{$1}"),e.parameters)),n},formatAndAdd:function(t,e){var n=this.defaultMessage(t,e);this.errorList.push({message:n,element:t,method:e.method}),this.errorMap[t.name]=n,this.submitted[t.name]=n},addWrapper:function(t){return t=this.settings.wrapper?t.add(t.parent(this.settings.wrapper)):t},defaultShowErrors:function(){for(var t,e,n=0;this.errorList[n];n++)e=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,e.element,this.settings.errorClass,this.settings.validClass),this.showLabel(e.element,e.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,t=this.validElements();t[n];n++)this.settings.unhighlight.call(this,t[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(t,e){var n,i,s,r=this.errorsFor(t),a=this.idOrName(t),o=c(t).attr("aria-describedby");r.length?(r.removeClass(this.settings.validClass).addClass(this.settings.errorClass),r.html(e)):(i=r=c("<"+this.settings.errorElement+">").attr("id",a+"-error").addClass(this.settings.errorClass).html(e||""),this.settings.wrapper&&(i=r.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement.call(this,i,c(t)):i.insertAfter(t),r.is("label")?r.attr("for",a):0===r.parents("label[for='"+this.escapeCssMeta(a)+"']").length&&(i=r.attr("id"),o?o.match(new RegExp("\\b"+this.escapeCssMeta(i)+"\\b"))||(o+=" "+i):o=i,c(t).attr("aria-describedby",o),n=this.groups[t.name])&&c.each((s=this).groups,function(t,e){e===n&&c("[name='"+s.escapeCssMeta(t)+"']",s.currentForm).attr("aria-describedby",r.attr("id"))})),!e&&this.settings.success&&(r.text(""),"string"==typeof this.settings.success?r.addClass(this.settings.success):this.settings.success(r,t)),this.toShow=this.toShow.add(r)},errorsFor:function(t){var e=this.escapeCssMeta(this.idOrName(t)),t=c(t).attr("aria-describedby"),e="label[for='"+e+"'], label[for='"+e+"'] *";return t&&(e=e+", #"+this.escapeCssMeta(t).replace(/\s+/g,", #")),this.errors().filter(e)},escapeCssMeta:function(t){return void 0===t?"":t.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||!this.checkable(t)&&t.id||t.name},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),c(t).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(t){return c(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,e){switch(e.nodeName.toLowerCase()){case"select":return c("option:selected",e).length;case"input":if(this.checkable(e))return this.findByName(e.name).filter(":checked").length}return t.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(t,e){return!!c(t,e.form).length},function:function(t,e){return t(e)}},optional:function(t){var e=this.elementValue(t);return!c.validator.methods.required.call(this,e,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,c(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,e){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],c(t).removeClass(this.settings.pendingClass),e&&0===this.pendingRequest&&this.formSubmitted&&this.form()&&0===this.pendingRequest?(c(this.currentForm).trigger("submit"),this.submitButton&&c("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!e&&0===this.pendingRequest&&this.formSubmitted&&(c(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,e){return e="string"==typeof e&&e||"remote",c.data(t,"previousValue")||c.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:e})})},destroy:function(){this.resetForm(),c(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,e){t.constructor===String?this.classRuleSettings[t]=e:c.extend(this.classRuleSettings,t)},classRules:function(t){var e={},t=c(t).attr("class");return t&&c.each(t.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(e,c.validator.classRuleSettings[this])}),e},normalizeAttributeRule:function(t,e,n,i){(i=/min|max|step/.test(n)&&(null===e||/number|range|text/.test(e))&&(i=Number(i),isNaN(i))?void 0:i)||0===i?t[n]=i:e===n&&"range"!==e&&(t["date"===e?"dateISO":n]=!0)},attributeRules:function(t){var e,n,i={},s=c(t),r=t.getAttribute("type");for(e in c.validator.methods)n="required"===e?(n=t.getAttribute(e),""===n&&(n=!0),!!n):s.attr(e),this.normalizeAttributeRule(i,r,e,n);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(t){var e,n,i={},s=c(t),r=t.getAttribute("type");for(e in c.validator.methods)n=s.data("rule"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()),""===n&&(n=!0),this.normalizeAttributeRule(i,r,e,n);return i},staticRules:function(t){var e={},n=c.data(t.form,"validator");return e=n.settings.rules?c.validator.normalizeRule(n.settings.rules[t.name])||{}:e},normalizeRules:function(i,s){return c.each(i,function(t,e){if(!1===e)delete i[t];else if(e.param||e.depends){var n=!0;switch(typeof e.depends){case"string":n=!!c(e.depends,s.form).length;break;case"function":n=e.depends.call(s,s)}n?i[t]=void 0===e.param||e.param:(c.data(s.form,"validator").resetElements(c(s)),delete i[t])}}),c.each(i,function(t,e){i[t]="function"==typeof e&&"normalizer"!==t?e(s):e}),c.each(["minlength","maxlength"],function(){i[this]&&(i[this]=Number(i[this]))}),c.each(["rangelength","range"],function(){var t;i[this]&&(Array.isArray(i[this])?i[this]=[Number(i[this][0]),Number(i[this][1])]:"string"==typeof i[this]&&(t=i[this].replace(/[\[\]]/g,"").split(/[\s,]+/),i[this]=[Number(t[0]),Number(t[1])]))}),c.validator.autoCreateRanges&&(null!=i.min&&null!=i.max&&(i.range=[i.min,i.max],delete i.min,delete i.max),null!=i.minlength)&&null!=i.maxlength&&(i.rangelength=[i.minlength,i.maxlength],delete i.minlength,delete i.maxlength),i},normalizeRule:function(t){var e;return"string"==typeof t&&(e={},c.each(t.split(/\s/),function(){e[this]=!0}),t=e),t},addMethod:function(t,e,n){c.validator.methods[t]=e,c.validator.messages[t]=void 0!==n?n:c.validator.messages[t],e.length<3&&c.validator.addClassRules(t,c.validator.normalizeRule(t))},methods:{required:function(t,e,n){return this.depend(n,e)?"select"===e.nodeName.toLowerCase()?(n=c(e).val())&&0<n.length:this.checkable(e)?0<this.getLength(t,e):null!=t&&0<t.length:"dependency-mismatch"},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})+(?::(?:[^\]\[?\/<~#`!@$^&*()+=}|:";',>{ ]|%[0-9A-Fa-f]{2})*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t)},date:(n=!1,function(t,e){return n||(n=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())}),dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(t,e,n){t=Array.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||n<=t},maxlength:function(t,e,n){t=Array.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||t<=n},rangelength:function(t,e,n){t=Array.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||t>=n[0]&&t<=n[1]},min:function(t,e,n){return this.optional(e)||n<=t},max:function(t,e,n){return this.optional(e)||t<=n},range:function(t,e,n){return this.optional(e)||t>=n[0]&&t<=n[1]},step:function(t,e,n){function i(t){return(t=(""+t).match(/(?:\.(\d+))?$/))&&t[1]?t[1].length:0}function s(t){return Math.round(t*Math.pow(10,r))}var r,a=c(e).attr("type"),o="Step attribute on input type "+a+" is not supported.",l=new RegExp("\\b"+a+"\\b"),u=!0;if(a&&!l.test(["text","number","range"].join()))throw new Error(o);return r=i(n),(i(t)>r||s(t)%s(n)!=0)&&(u=!1),this.optional(e)||u},equalTo:function(t,e,n){n=c(n);return this.settings.onfocusout&&n.not(".validate-equalTo-blur").length&&n.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){c(e).valid()}),t===n.val()},remote:function(i,s,t,r){if(this.optional(s))return"dependency-mismatch";r="string"==typeof r&&r||"remote";var a,e,o=this.previousValue(s,r);return this.settings.messages[s.name]||(this.settings.messages[s.name]={}),o.originalMessage=o.originalMessage||this.settings.messages[s.name][r],this.settings.messages[s.name][r]=o.message,e=c.param(c.extend({data:i},(t="string"==typeof t?{url:t}:t).data)),o.old===e?o.valid:(o.old=e,(a=this).startRequest(s),(e={})[s.name]=i,c.ajax(c.extend(!0,{mode:"abort",port:"validate"+s.name,dataType:"json",data:e,context:a.currentForm,success:function(t){var e,n=!0===t||"true"===t;a.settings.messages[s.name][r]=o.originalMessage,n?(e=a.formSubmitted,a.resetInternals(),a.toHide=a.errorsFor(s),a.formSubmitted=e,a.successList.push(s),a.invalid[s.name]=!1,a.showErrors()):(e={},t=t||a.defaultMessage(s,{method:r,parameters:i}),e[s.name]=o.message=t,a.invalid[s.name]=!0,a.showErrors(e)),o.valid=n,a.stopRequest(s,n)}},t)),"pending")}}});var i,s={};return c.ajaxPrefilter?c.ajaxPrefilter(function(t,e,n){var i=t.port;"abort"===t.mode&&(s[i]&&s[i].abort(),s[i]=n)}):(i=c.ajax,c.ajax=function(t){var e=("mode"in t?t:c.ajaxSettings).mode,n=("port"in t?t:c.ajaxSettings).port;return"abort"===e?(s[n]&&s[n].abort(),s[n]=i.apply(this,arguments),s[n]):i.apply(this,arguments)}),c}),function(t){"function"==typeof define&&define.amd?define(["jquery","../jquery.validate"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){return t.extend(t.validator.messages,{required:"Это поле необходимо заполнить.",remote:"Пожалуйста, введите правильное значение.",email:"Пожалуйста, введите корректный адрес электронной почты.",url:"Пожалуйста, введите корректный URL.",date:"Пожалуйста, введите корректную дату.",dateISO:"Пожалуйста, введите корректную дату в формате ISO.",number:"Пожалуйста, введите число.",digits:"Пожалуйста, вводите только цифры.",creditcard:"Пожалуйста, введите правильный номер кредитной карты.",equalTo:"Пожалуйста, введите такое же значение ещё раз.",extension:"Пожалуйста, выберите файл с правильным расширением.",maxlength:t.validator.format("Пожалуйста, введите не больше {0} символов."),minlength:t.validator.format("Пожалуйста, введите не меньше {0} символов."),rangelength:t.validator.format("Пожалуйста, введите значение длиной от {0} до {1} символов."),range:t.validator.format("Пожалуйста, введите число от {0} до {1}."),max:t.validator.format("Пожалуйста, введите число, меньшее или равное {0}."),min:t.validator.format("Пожалуйста, введите число, большее или равное {0}.")}),t});